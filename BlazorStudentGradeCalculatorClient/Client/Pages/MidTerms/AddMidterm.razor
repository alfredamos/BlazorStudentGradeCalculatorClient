@page "/addMidterm"
@inherits AddMidtermBase


<div class="border" style="width: 50%">
    <div class="card-header text-center">
        <h5><strong>Add MidTerm Score</strong></h5>
    </div>

    <div class="card-body">

        @if (ShowMainForm)
        {
            <EditForm Model="MidTerm">
                <DataAnnotationsValidator />
                <ValidationSummary />

                <div class="form-group">
                    <label for="SchoolIdNumber" class="form-label">School ID</label>
                    <InputText @bind-Value="MidTerm.SchoolIdNumber" class="form-control" placeholder="School ID" />
                    <ValidationMessage For="@(() => MidTerm.SchoolIdNumber)" />
                </div>

                <hr />

                <div class="form-group">
                    <label for="StudentName" class="form-label">Student Name</label>
                    <InputText @bind-Value="MidTerm.StudentName" class="form-control" placeholder="Student Name" />
                    <ValidationMessage For="@(() => MidTerm.StudentName)" />
                </div>

                <hr />

                <div class="form-group">
                    <label for="NumberOfSubjects" class="form-label">Number of Subjects</label>
                    <InputNumber @bind-Value="MidTerm.NumberOfSubjects" class="form-control" placeholder="Number of Subjects" />
                    <ValidationMessage For="@(() => MidTerm.StudentName)" />
                </div>

            </EditForm>

            SchoolID = MidTerm.SchoolIdNumber;
            StudentName = MidTerm.StudentName;
            NumbOfSujects = MidTerm.NumberOfSubjects;

            NumbTemp = MidTerm.NumberOfSubjects - 1; //----> The counting starts from 0 to N - 1;

            if (NumbTemp == 0) HideButtons = true;

        }

    </div>

    @if (ShowComponent)
    {
        <hr />

        <MidTermForm MidTerm="MidTerm" Proceed="Proceed" Finish="Back" HideButton="HideButtons" UpsertMidTerm="CreateMidterm"
                     CancelMethod="Cancel" UpsertButton="Create" CancelButton="Cancel" />

        MidTerm.SchoolIdNumber = SchoolID;
        MidTerm.StudentName = StudentName;
        MidTerm.NumberOfSubjects = NumbOfSujects;

    }

</div>